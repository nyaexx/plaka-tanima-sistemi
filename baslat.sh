#!/bin/bash

clear
sleep 1
echo -e "\e[1;35m"
echo "--------------------------------------------------------------------------------------------------------------------"
echo "███████╗███╗   ██╗██████╗      ██████╗ ████████╗ ██████╗ ███╗   ███╗ █████╗  ███████╗ ██╗   ██╗  ██████╗ ███╗   ██╗"
echo "██╔════╝████╗  ██║██╔══██╗    ██╔═══██╗╚══██╔══╝██╔═══██╗████╗ ████║██╔══██╗ ██╔════╝ ╚██╗ ██╔╝ ██╔═══██╗████╗  ██║"
echo "█████╗  ██╔██╗ ██║██║  ██║    ██║   ██║   ██║   ██║   ██║██╔████╔██║███████║ ███████╗  ╚████╔╝  ██║   ██║██╔██╗ ██║"
echo "██╔══╝  ██║╚██╗██║██║  ██║    ██║   ██║   ██║   ██║   ██║██║╚██╔╝██║██╔══██║ ╚════██║   ╚██╔╝   ██║   ██║██║╚██╗██║"
echo "███████╗██║ ╚████║██████╔╝    ╚██████╔╝   ██║   ╚██████╔╝██║ ╚═╝ ██║██║  ██║ ███████║    ██║    ╚██████╔╝██║ ╚████║"
echo "╚══════╝╚═╝  ╚═══╝╚═════╝      ╚═════╝    ╚═╝    ╚═════╝ ╚═╝     ╚═╝╚═╝  ╚═╝ ╚══════╝    ╚═╝     ╚═════╝ ╚═╝  ╚═══╝"
echo "--------------------------------------------------------------------------------------------------------------------"
echo -e "\e[0m"
sleep 1
echo -e "\e[1;36m"
echo "------------------------------------------------------------------------------------------------------------------------------------------------------"
echo "██████╗ ██╗      █████╗ ██╗  ██╗ █████╗     ████████╗ █████╗ ███╗   ██╗██╗███╗   ███╗ █████╗     ███████╗██╗███████╗████████╗███████╗███╗   ███╗██╗"
echo "██╔══██╗██║     ██╔══██╗██║ ██╔╝██╔══██╗    ╚══██╔══╝██╔══██╗████╗  ██║██║████╗ ████║██╔══██╗    ██╔════╝██║██╔════╝╚══██╔══╝██╔════╝████╗ ████║██║"
echo "██████╔╝██║     ███████║█████╔╝ ███████║       ██║   ███████║██╔██╗ ██║██║██╔████╔██║███████║    ███████╗██║███████╗   ██║   █████╗  ██╔████╔██║██║"
echo "██╔═══╝ ██║     ██╔══██║██╔═██╗ ██╔══██║       ██║   ██╔══██║██║╚██╗██║██║██║╚██╔╝██║██╔══██║    ╚════██║██║╚════██║   ██║   ██╔══╝  ██║╚██╔╝██║██║"
echo "██║     ███████╗██║  ██║██║  ██╗██║  ██║       ██║   ██║  ██║██║ ╚████║██║██║ ╚═╝ ██║██║  ██║    ███████║██║███████║   ██║   ███████╗██║ ╚═╝ ██║██║"
echo "╚═╝     ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝       ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝╚═╝     ╚═╝╚═╝  ╚═╝    ╚══════╝╚═╝╚══════╝   ╚═╝   ╚══════╝╚═╝     ╚═╝╚═╝"
echo "------------------------------------------------------------------------------------------------------------------------------------------------------"
echo -e "\e[0m"   
echo -e "\e[1;34m"                                                                                
sleep 1

echo ""
echo "----------------------------------------------------------------------------------------------------------"
echo "Plaka tanıma sistemi açılıyor..."
echo -e "\e[0m" 
sleep 2

plaka_acildi=false
arayuz_acildi=false

# Plaka tanıma scriptini çalıştırma
if python3 /dosya/yolunu/girin/plakatanimanin; then
    echo -e "\e[32m-----------------------------\e[0m"
    echo -e "\e[32mPlaka tanıma sistemi başarıyla açıldı!\e[0m"
    echo -e "\e[32m-----------------------------\e[0m"
    plaka_acildi=true
else
    echo -e "\n\033[1;33m-------------------------------------------------------------------------------------------------\033[0m"
    echo -e "\033[1;31m[HATA] \033[0mPlaka tanıma sistemi başlatılamadı!"
    echo -e "\033[1;31m[ERROR] \033[0mDosya bulunamadı veya hatalı bir işlem gerçekleşti: /dosya/yolunu/girin/plakatanimanin"
    echo -e "\033[1;33m-------------------------------------------------------------------------------------------------\033[0m\n"
    plaka_acildi=false
fi
echo -e "\e[1;34m" 
echo "----------------------------------------------------------------------------------------------------------"


sleep 1
echo ""
echo "----------------------------------------------------------------------------------------------------------"
echo -e "\e[1;34m" 
echo "Arayüz açılıyor..."
echo -e "\e[0m" 
sleep 2

# Arayüz scriptini çalıştırma
cd /home/nyaex/Depo/plakaarayüz
python3 main.py & # Arkaplanda çalıştır
ARAYUZ_PID=$!    # PID'i kaydet

# PID kontrolü ile arayüzün açılıp açılmadığını kontrol et
sleep 3 # Arayüzün açılması için kısa bir bekleme
if ps -p $ARAYUZ_PID > /dev/null; then
    echo -e "\e[32m--------------------------\e[0m"
    echo -e "\e[32mArayüz başarıyla açıldı!\e[0m"
    echo -e "\e[32m--------------------------\e[0m"
    arayuz_acildi=true
else
    echo -e "\n\033[1;33m------------------------------------------------------------------------------------------------\033[0m"
    echo -e "\033[1;31m[HATA] \033[0mArayüz başlatılamadı!"
    echo -e "\033[1;31m[ERROR] \033[0mArayüz başlatma işlemi başarısız oldu"
    echo -e "\033[1;33m------------------------------------------------------------------------------------------------\033[0m\n"
    arayuz_acildi=false
fi
echo -e "\e[1;34m"
echo "----------------------------------------------------------------------------------------------------------"

# Sonuç değerlendirmesi
echo ""
echo -e "\e[1;36m------ SON DURUM ------\e[0m"

if $plaka_acildi && $arayuz_acildi; then
    echo -e "\e[1;32m✓ Her iki sistem de başarıyla açıldı.\e[0m"
elif $plaka_acildi && ! $arayuz_acildi; then
    echo -e "\e[1;33m! Sadece plaka tanıma sistemi açıldı.\e[0m"
elif ! $plaka_acildi && $arayuz_acildi; then
    echo -e "\e[1;33m! Sadece arayüz açıldı.\e[0m"
else
    echo -e "\e[1;31m✗ Hiçbir sistem açılmadı.\e[0m"
fi

echo ""
echo -e "\e[1;36mGithub Sayfası:\e[0m \e[1;35mhttps://github.com/nyaexx/plaka-tanima-sistemi"
echo ""
echo -e "\e[1;36m-----------------------\e[0m"
echo ""
exit

